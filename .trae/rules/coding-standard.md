---
alwaysApply: true
---
# 代码及结构规范

## 一、代码规范
### 1.1 区域划分
- 类内部用`#region`/`#endregion`划分代码区域（无代码区域可省略）。
- 顶级区域按`常量`、`public`、`protected`、`internal`、`private`、`嵌套类型`排序。
- 内层区域允许多层嵌套：public/internal/protected按类型分类，private按功能分类。
- 区域间保留1行空行；接口/抽象类实现、override基类、静态内容需单独划分二级区域并命名体现内容。

### 1.2 命名
- 采用驼峰命名法，同一概念全项目命名一致。
- public/internal/protected用英文；private和内部命名可中文；专业术语用通用英文，禁止非通用缩写。
- 除循环变量外禁止单个字母命名；除常量外禁止命名中间用下划线。
- public/internal/protected首字母大写（如`FontColor`）；private属性/字段以下划线+小写开头（如`_fontColor`）；private方法小写开头且含前导动词（如`getFontColor()`）。
- 接口以I+大写开头（如`IList`）；抽象类以A+大写开头（如`AList`）；布尔变量加`Is`/`Has`等前缀（如`IsValid`）。
- public/internal/protected集合用复数（如`Users`）；private集合按类型加后缀（Dic/Array/List）。
- 异步方法加`Async`后缀；枚举项优先用中文；工具类/DTO/仓储类分别加`Helper`/`DTO`/`Repository`后缀；常量至少两单词，中间用下划线连接（如`My_Color`）。

### 1.3 注释
- 除属性访问器外，所有成员需加XML文档注释，注释用中文（专业术语可保留英文），代码修改同步更新注释。
- 类注释含核心功能、设计意图、使用场景、依赖关系；方法注释含功能、参数、返回值、异常说明；属性注释含用途、取值范围等，以“获取/设置”开头；字段注释含用途及必要约束。

### 1.4 代码风格
- 避免连续两个及以上空行；缩进用4空格（禁止Tab）；大括号采用Allman风格。
- 方法参数超3个时每行一个；复杂条件拆分布尔变量；链式调用每行一个方法（缩进2级）。
- 类成员/逻辑块间留1行空行；区域/方法首尾不留空行。

## 二、结构规范
### 2.1 整体结构
- 遵循结构设计8大基本原则；Core与UI分项目，Core不依赖UI。

### 2.2 方法
- 复杂逻辑拆分为私有方法（单一职责）；参数超5个封装为参数对象；返回集合避免null（返回空集合）。
- 方法内用空行分隔逻辑段，添加单行注释，必要时用`{}`包裹代码段。

### 2.3 属性
- 含运算时创建private属性访问器；允许直接赋初始值。

### 2.4 嵌套类型
- 仅在当前类内部/输入输出中使用；作为返回值时无公共构造函数，仅当前类可内部创建。

### 2.5 枚举
- 定义时明示继承；具备开关特性的标明`Flage`特性。

### 2.6 类文件
- 文件/文件夹（特殊情况除外）用英文命名，路径对应命名空间；功能模块独立文件夹，按类别建子文件夹（Entity/Interface等）。
- 一个文件仅含一个顶级类，文件名与类名一致；通用后缀：`DTO`/`Repository`/`Helper`等。

### 2.7 版本号
- 采用四段版本号A.B.C.D（主版本号、次版本号、修订号、编译号），数字以1步进，只加不减。

## 三、外部工具
### 3.1 PowerShell
- 使用时需特别处理磁盘路径中的中文，避免乱码。

## 四、未尽事宜
- 未尽事宜从当前项目自主学习，所学内容不得覆盖本文档规范。